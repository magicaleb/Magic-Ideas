function loadWordsFromList(){
  const m = location.hash.match(/list=([^&]+)/);
  if(!m){
    try { return JSON.parse(localStorage.getItem('PA_WORDS')||'[]'); } 
    catch { return []; }
  }
  try {
    const decoded = decodeURIComponent(m[1]);
    const words = decoded.split(',').map(w=>w.trim()).filter(Boolean);
    localStorage.setItem('PA_WORDS', JSON.stringify(words));
    history.replaceState(null,'', location.pathname + location.search);
    return words;
  } catch { return []; }
}
window.WORDS = loadWordsFromList();
