<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover, user-scalable=no">
  <title>Swipe Input — Settings</title>
  <link rel="stylesheet" href="../../assets/css/base.css">
</head>
<body>
  <div class="container stack">
    <h2>Swipe Input — Settings</h2>

    <div class="card stack">
      <div class="stack">
        <label>Auto-submit delay (seconds)</label>
        <input id="delay" type="number" min="1" max="15" step="1" inputmode="numeric">
      </div>

      <div class="stack">
        <label>Shortcut name (optional) <span class="badge">sends number as text</span></label>
        <input id="shortcut" type="text" placeholder="e.g., CityList">
      </div>

      <div class="row">
        <input id="clipboard" type="checkbox" style="width:auto">
        <label for="clipboard">Copy result to clipboard</label>
      </div>

      <div class="stack">
        <label>After-submit Shortcut (optional) <span class="badge">use for haptic confirm</span></label>
        <input id="postShortcut" type="text" placeholder="e.g., HapticConfirm">
      </div>

      <div class="row" style="justify-content:flex-end">
        <a href="perform.html"><button>Perform</button></a>
      </div>
    </div>

    <p class="badge">Tip: 11-o’clock swipe = Submit now</p>
  </div>

  <script src="../../assets/js/storage.js"></script>
  <script>
    const defaults = { delay: 3, shortcut: '', clipboard: false, postShortcut: '' };
    const config   = Storage.load('swipe', defaults);
    const $ = id => document.getElementById(id);

    $('delay').value        = config.delay;
    $('shortcut').value     = config.shortcut;
    $('clipboard').checked  = config.clipboard;
    $('postShortcut').value = config.postShortcut || '';

    const save = () => Storage.save('swipe', {
      delay: Math.max(1, +$('delay').value || defaults.delay),
      shortcut: ($('shortcut').value || '').trim(),
      clipboard: !!$('clipboard').checked,
      postShortcut: ($('postShortcut').value || '').trim()
    });
    ['delay','shortcut','clipboard','postShortcut'].forEach(id => $(id).addEventListener('change', save));
  </script>
</body>
<style>
  button {
    font-size: 1.6rem;
    padding: 20px;
    width: 100%;
    margin-top: 12px;
    border-radius: 12px;
  }
</style>
</html>